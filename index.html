<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¾ å¯µç‰©è¾²å ´æ—¥è¨˜ ğŸ¾</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- æ¨™é¡Œå€ -->
        <header class="header">
            <h1>ğŸ¾ æˆ‘çš„å¯µç‰©è¾²å ´æ—¥è¨˜ ğŸ¾</h1>
            <p class="subtitle">æ¯å¤©å¯«æ—¥è¨˜ï¼Œæ”¶é›†å¯æ„›çš„æ¯›å­©å€‘ï¼</p>
        </header>

        <!-- å¯µç‰©è¾²å ´å€ -->
        <section class="pet-farm">
            <h2>ğŸ¡ æˆ‘çš„å¯µç‰©è¾²å ´</h2>
            <div class="pet-stats">
                <span class="stat-item">ğŸ¶ ç‹—ç‹—: <strong id="dogCount">0</strong></span>
                <span class="stat-item">ğŸ± è²“å’ª: <strong id="catCount">0</strong></span>
                <span class="stat-item">ğŸ“ ç¸½æ—¥è¨˜: <strong id="totalDiaries">0</strong></span>
            </div>
            <div id="petContainer" class="pet-container">
                <!-- å¯µç‰©æœƒå‹•æ…‹åŠ å…¥é€™è£¡ -->
            </div>
            <p class="warning-text" id="warningText" style="display: none;">
                âš ï¸ å·²ç¶“ <span id="daysSinceLastEntry">0</span> å¤©æ²’å¯«æ—¥è¨˜äº†ï¼å†ä¸å¯«æœƒå¤±å»ä¸€éš»å¯µç‰©å–”ï¼
            </p>
        </section>

        <!-- æ—¥è¨˜è¨˜éŒ„å€ -->
        <section class="diary-section">
            <h2>âœï¸ ä»Šæ—¥æ—¥è¨˜</h2>
            <div class="diary-form">
                <textarea 
                    id="diaryContent" 
                    placeholder="ä»Šå¤©åšäº†ä»€éº¼æœ‰è¶£çš„äº‹æƒ…å‘¢ï¼Ÿå¯«ä¸‹ä¾†å°±èƒ½ç²å¾—ä¸€éš»æ–°å¯µç‰©ï¼ğŸ‰"
                    rows="6"
                ></textarea>
                <button id="saveDiaryBtn" class="btn btn-primary">
                    ğŸ’¾ å„²å­˜æ—¥è¨˜ä¸¦ç²å¾—å¯µç‰©
                </button>
            </div>
        </section>

        <!-- è‡¨æ™‚ç­†è¨˜å€ -->
        <section class="notes-section">
            <h2>ğŸ“Œ è‡¨æ™‚ç­†è¨˜</h2>
            <div class="note-form">
                <input 
                    type="text" 
                    id="noteInput" 
                    placeholder="å¿«é€Ÿè¨˜éŒ„è‡¨æ™‚äº‹é …..."
                />
                <button id="addNoteBtn" class="btn btn-secondary">â• æ–°å¢</button>
            </div>
            <ul id="notesList" class="notes-list">
                <!-- ç­†è¨˜æœƒå‹•æ…‹åŠ å…¥é€™è£¡ -->
            </ul>
        </section>

        <!-- æ—¥è¨˜æ­·å²å€ -->
        <section class="history-section">
            <h2>ğŸ“– æ—¥è¨˜æ­·å²</h2>
            <div id="diaryHistory" class="diary-history">
                <!-- æ­·å²æ—¥è¨˜æœƒå‹•æ…‹åŠ å…¥é€™è£¡ -->
            </div>
        </section>
    </div>

    <!-- Firebase SDK -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore, collection, addDoc, getDocs, query, orderBy, deleteDoc, doc, updateDoc, setDoc, getDoc, where, limit } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        // è«‹æ›¿æ›æˆä½ çš„ Firebase é…ç½®
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "pet-farm-daily-journal.firebaseapp.com",
            projectId: "pet-farm-daily-journal",
            storageBucket: "pet-farm-daily-journal.appspot.com",
            messagingSenderId: "YOUR_SENDER_ID",
            appId: "YOUR_APP_ID"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // å°‡ db å’Œ firestore å‡½æ•¸æš´éœ²åˆ°å…¨åŸŸ
        window.db = db;
        window.firestoreFunctions = {
            collection,
            addDoc,
            getDocs,
            query,
            orderBy,
            deleteDoc,
            doc,
            updateDoc,
            setDoc,
            getDoc,
            where,
            limit
        };

        // ç•¶ Firebase åˆå§‹åŒ–å®Œæˆå¾Œï¼Œè¼‰å…¥ app.js
        const script = document.createElement('script');
        script.src = 'app.js';
        document.body.appendChild(script);
    </script>
</body>
</html>
